import{r as p,j as s}from"./index-DpRQqlfr.js";import{u as T}from"./TagContext-BwModeRE.js";import{g as b}from"./AttributionList-MhLAVBMK.js";/* empty css                  */const k=[{title:"Introduction to Frameworks",link:"/intro/introduction",tags:[],description:"Introduction to the SEAL Security Frameworks project"},{title:"How to Navigate",link:"/intro/how-to-navigate",tags:[],description:"Guide on how to navigate and use this documentation"},{title:"Framework Overview",link:"/intro/overview",tags:[],description:"Overview of each security framework provided"},{title:"Security Awareness Overview",link:"/awareness/overview",tags:["Security Specialist","Operations & Strategy"],description:"Overview of the security awareness framework"},{title:"Core Awareness Principles",link:"/awareness/core-awareness-principles",tags:["Security Specialist","Operations & Strategy","Community & Marketing","HR","Engineer/Developer"],description:"Fundamental principles for building security awareness in organizations"},{title:"Understanding Threat Vectors",link:"/awareness/understanding-threat-vectors",tags:["Security Specialist","Operations & Strategy","Community & Marketing","HR","Engineer/Developer"],description:"Comprehensive guide to common attack vectors and threats"},{title:"Community Management Overview",link:"/community-management/overview",tags:["Community & Marketing","Operations & Strategy"],description:"Overview of community management security practices"},{title:"Discord Security",link:"/community-management/discord",tags:["Community & Marketing","Operations & Strategy"],description:"Best practices for securing Discord servers and communications"},{title:"X (Twitter) Security",link:"/community-management/twitter",tags:["Community & Marketing"],description:"Comprehensive guide to securing your Twitter/X account"},{title:"How to Contribute",link:"/contribute/contributing",tags:["Community & Marketing"],description:"Guide on how to contribute to the Security Frameworks project"}];function L(){const a=new Set;return k.forEach(c=>{c.tags.forEach(r=>a.add(r))}),Array.from(a).sort()}function A(){const a={};for(const c of k)for(const r of c.tags)a[r]||(a[r]=[]),a[r].push(c.link);return a}function F({onTagSelect:a,availableTags:c}){const{selectedTags:r,setSelectedTags:m}=T(),[l,w]=p.useState(!1),[y,j]=p.useState(""),d=A(),S=c||L(),E=y?S.filter(t=>t.toLowerCase().includes(y.toLowerCase())):S;p.useEffect(()=>{try{const t=localStorage.getItem("selected_tags");if(t){const o=JSON.parse(t);Array.isArray(o)&&o.length&&m(o)}}catch{}},[m]),p.useEffect(()=>{a&&a(r);try{localStorage.setItem("selected_tags",JSON.stringify(r))}catch{}const t=["aside a","nav a",".sidebar a",'[data-testid="sidebar"] a',".vocs_sidebar a","#sidebar a"];if(t.forEach(i=>{document.querySelectorAll(i).forEach(e=>{if(e.classList.remove("selected"),e instanceof HTMLElement){e.style.backgroundColor="",e.style.borderLeft="",e.style.paddingLeft="",e.style.fontWeight="",e.style.opacity="";const n=e.querySelector(".sidebar-tag-indicators");n&&n.remove()}})}),r.length===0){const i=document.querySelector('aside, nav, .sidebar, [data-testid="sidebar"], .vocs_sidebar, #sidebar');i instanceof HTMLElement&&i.classList.remove("filtered");return}const o=new Set;r.forEach(i=>{(d[i]||[]).forEach(n=>o.add(n))}),console.log("Selected tags:",r),console.log("Selected pages:",Array.from(o)),console.log("Tags index:",d),o.forEach(i=>{let e=document.querySelector(`a[href="${i}"]`);if(e||(e=document.querySelector(`a[href$="${i}"]`)),!e){const n=i.startsWith("/")?i.slice(1):i;e=document.querySelector(`a[href*="${n}"]`)}if(e||t.forEach(n=>{e||(e=document.querySelector(`${n.replace(" a","")} a[href$="${i}"]`))}),e){console.log("Highlighting link:",e.getAttribute("href"),e.textContent),e.classList.add("selected");const n=r.filter(u=>d[u]&&d[u].includes(i));if(e instanceof HTMLElement){e.style.backgroundColor="rgba(139, 92, 246, 0.2)",e.style.borderLeft="4px solid #7c3aed",e.style.paddingLeft="12px",e.style.fontWeight="600";const u=e.querySelector(".sidebar-tag-indicators");if(u&&u.remove(),n.length>0){const v=document.createElement("div");v.className="sidebar-tag-indicators",n.forEach(C=>{const h=document.createElement("span");h.className="sidebar-tag-indicator",h.style.backgroundColor=b(C),h.title=C,v.appendChild(h)}),e.appendChild(v)}}}else console.log("Could not find link for page:",i)});const g=document.querySelector('aside, nav, .sidebar, [data-testid="sidebar"], .vocs_sidebar, #sidebar');g instanceof HTMLElement&&(g.classList.add("filtered"),g.querySelectorAll("a:not(.selected)").forEach(i=>{i instanceof HTMLElement&&(i.style.opacity="0.4")}))},[r,a,d]);const x=t=>{m(o=>o.includes(t)?o.filter(g=>g!==t):[...o,t])},N=()=>{m([])},f=r.length>0;return s.jsxs("div",{className:"tag-filter",children:[s.jsxs("button",{className:`tag-filter-toggle ${l?"active":""} ${f?"has-filters":""}`,onClick:()=>w(!l),"aria-expanded":l,children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})}),"Filter by Tags",f&&s.jsx("span",{className:"filter-count",children:r.length})]}),l&&s.jsxs("div",{className:"tag-filter-dropdown",children:[s.jsxs("div",{className:"tag-filter-header",children:[s.jsx("h3",{children:"Filter by Tags"}),f&&s.jsx("button",{className:"clear-filters",onClick:N,type:"button",children:"Clear All"})]}),s.jsx("div",{className:"tag-filter-search",children:s.jsx("input",{type:"text",placeholder:"Search tags...",value:y,onChange:t=>j(t.target.value)})}),s.jsx("div",{className:"tag-filter-list",children:E.map(t=>s.jsxs("label",{className:"tag-filter-item",children:[s.jsx("input",{type:"checkbox",checked:r.includes(t),onChange:()=>x(t)}),s.jsx("span",{className:"tag-filter-badge",style:{backgroundColor:b(t)},children:t})]},t))}),f&&s.jsxs("div",{className:"active-filters",children:[s.jsx("span",{className:"active-filters-label",children:"Active filters:"}),s.jsx("div",{className:"active-filters-list",children:r.map(t=>s.jsxs("button",{className:"active-filter-item",onClick:()=>x(t),style:{backgroundColor:b(t)},children:[t,s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})]},t))})]})]}),l&&s.jsx("div",{className:"tag-filter-backdrop",onClick:()=>w(!1)})]})}export{F as T};
